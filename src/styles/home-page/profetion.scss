
@use "../variables.scss" as *;
@import url('https://fonts.googleapis.com/css2?family=Source+Code+Pro&display=swap');

.profetion {
    --_animation-duration: 2500ms;
    --_text-width: 15rem;

    position: relative;
    font-size: 1.4rem;
    height: 2rem;
    width: 0;
    overflow: hidden;

    animation: typing var(--_animation-duration) steps(18) 2000ms forwards;
    
    @media (min-width: $mobile-width) {
        --_text-width: 21.5rem;
        height: 2.4rem;
        font-size: 2rem;
    }

    @media (min-width: $mobile-width) and (max-width: $tablet-width) {
        --_text-width: 17.25rem;
        height: 2.2rem;
        font-size: 1.6rem;
    }

    &::before {
        content: attr(area-text);
        position: absolute;
        inset: 0 auto 0 0;
        margin: auto;
        width: max-content;
        font-family: 'Source Code Pro', monospace;
    }

    &::after {
        content: "";
        position: absolute;
        inset: 0 0 0 auto;
        margin: auto;
        height: 100%;
        width: .1rem;
        opacity: 0;
        background: var(--primary-text-color);

        @media (min-width: $mobile-width) {
            width: .15rem;
        }

        animation: 
           typing-pointer calc(var(--_animation-duration) * 1.8),
           typing-end calc(var(--_animation-duration) / 2) linear calc(var(--_animation-duration) * 1.8);

        @keyframes typing-pointer {
            0% { opacity: 1;}
            100% { opacity: 1;}
        }

        @keyframes typing-end {
            0% { opacity: 1; transform: scaleY(1)}
            20% { opacity: 1; transform: scaleY(0)}
            40% { opacity: 1; transform: scaleY(1)}
            60% { opacity: 1; transform: scaleY(0)}
            80% { opacity: 1; transform: scaleY(1)}
            100% { opacity: 1; transform: scaleY(1)}
        }
    }

    @keyframes typing{
        100% {
            width: var(--_text-width);
        }
    }
}